<div class="rating-summary">
  <div class="average-rating">
    <span class="rating-value">{{ product.rating | round: 1 }}</span>
    <div class="stars">
      {% assign rating = product.rating | round: 1 %}
      {% assign full_stars = rating | floor %}
      {% assign half_star = rating | minus: full_stars %}
      {% assign empty_stars = 5 | minus: full_stars | minus: half_star %}
      
      {% for i in (1..full_stars) %}
        <i class="fas fa-star filled"></i>
      {% endfor %}
      
      {% if half_star > 0 %}
        <i class="fas fa-star-half-alt filled"></i>
      {% endif %}
      
      {% for i in (1..empty_stars) %}
        <i class="far fa-star"></i>
      {% endfor %}
    </div>
    <span class="rating-count">{{ product.reviews_count }} ratings</span>
  </div>
</div>

<style>
.rating-summary {
  display: flex;
  align-items: center;
  font-family: Arial, sans-serif;
}
.average-rating {
  display: flex;
  align-items: center;
}
.rating-value {
  font-size: 1.2rem;
  margin-right: 0.5rem;
}
.stars {
  display: flex;
  align-items: center;
}
.fas.fa-star,
.fas.fa-star-half-alt {
  color: #ffcc00;
  margin-right: 0.1rem;
}
.far.fa-star {
  color: #ddd;
  margin-right: 0.1rem;
}
.rating-count {
  margin-left: 0.5rem;
  color: #007185;
  cursor: pointer;
  font-size: 1rem;
}
</style>

{% schema %}
{
  "name": "review display",
  "target": "section",
  "settings": [
    { "type": "product", "id": "product", "label": "Product", "autofill": true },
    { "type": "color", "id": "colour", "label": "Star Colour", "default": "#ff0000" }
  ]
}
{% endschema %}
